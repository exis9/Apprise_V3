"use strict";var __apr_bkeyd=1,_g_f_tg=0;function killApprise(){$(".appriseOverlay").remove(),$(".appriseOuter").remove()}function resetAppriseTimer(){_g_aprs_ms=0}function appriseStopKeydown(){__apr_bkeyd=0}function appriseStartKeydown(){__apr_bkeyd=1}function appriseNoKeyClose(e,t,a){apprise(e,t,a,!1)}function apprise(e,t,a,i=!0){killApprise(),appriseStartKeydown();let p={confirm:!1,verify:!1,password:!1,input:!1,animate:!1,textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No",backgroundClose:!0,keyClose:!0,passHideText:"hide?"};t||(t=p);for(let e in p)void 0===t[e]&&(t[e]=p[e]);if(i&&(i=t.keyClose),$("body").append('<div class="appriseOverlay" id="aOverlay"></div>'),t.backgroundClose&&($(".appriseOverlay").off(),$(".appriseOverlay").on("click",(function(){$(".appriseOuter").fadeOut(400,(function(){killApprise()}))}))),$(".appriseOverlay").fadeIn(100),$("body").append('<div class="appriseOuter" tabindex="0"><div class="appriseInner">'+e+'</div><div class="aButtons"></div></div>'),t.animate){let e=t.animate;isNaN(e)&&(e=400),$(".appriseOuter").css("top","-200px").show().animate({top:"40%"},e)}else $(".appriseOuter").fadeIn(200);_g_f_tg=0;let s="";t.input?("string"==typeof t.input&&(s=t.input),$(".appriseInner").append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="'+s+'"></div>'),_g_f_tg=1):t.password&&("string"==typeof t.password&&(s=t.password),$(".appriseInner").append('<div class="aInput" style="white-space:nowrap;"><input id="idApprise_pass" type="text" class="aTextbox" t="aTextbox" value="'+s+"\"><label style=\"margin-left:8px;font-size:13px;vertical-align:middle;\"><input type=\"checkbox\" onclick=\"if( $(this).is(':checked') ){$('#idApprise_pass').attr('type','password');} else {$('#idApprise_pass').attr('type','text');}\" style=\"vertical-align:middle;margin-right:3px\"><span style=\"vertical-align:middle;\">"+t.passHideText+"</span></label></div>"),_g_f_tg=1),setTimeout((()=>{_g_f_tg?$(".aTextbox:eq(0)").trigger("focus"):$(".appriseOuter:eq(0)").trigger("focus")}),5),t.confirm||t.input||t.password?($(".aButtons").append('<button value="ok">'+t.textOk+"</button>"),$(".aButtons").append('<button value="cancel">'+t.textCancel+"</button>")):t.verify?($(".aButtons").append('<button value="ok">'+t.textYes+"</button>"),$(".aButtons").append('<button value="cancel">'+t.textNo+"</button>")):$(".aButtons").append('<button value="ok">'+t.textOk+"</button>"),document.querySelector(".appriseOuter").addEventListener("keyup",(e=>{if(e.stopPropagation(),__apr_bkeyd&&$(".appriseOverlay").is(":visible")&&!1!==i){let t=e.target.tagName.toLowerCase();if(13==e.keyCode&&($(":focus").trigger("blur"),$('.aButtons > button[value="ok"]').trigger("click")),27==e.keyCode){if("input"==t||"textarea"==t)return;$('.aButtons > button[value="cancel"]').length?$('.aButtons > button[value="cancel"]').trigger("click"):$('.aButtons > button[value="ok"]').trigger("click")}}}));let n=$(".aTextbox").val();n||(n=!1),$(".aTextbox").off(),$(".aTextbox").on("keyup",(function(){n=$(this).val()})),$(".aButtons > button").on("click",(function(){if(!1!==i&&killApprise(),a){let e=$(this).attr("value");"ok"==e?t&&(t.input||t.password)?a(n):a(!0):"cancel"==e&&a(!1)}}))}