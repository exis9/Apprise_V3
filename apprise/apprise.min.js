var __apr_bkeyd=1,_g_aprs_ms=0;function killApprise(){$(".appriseOverlay").remove(),$(".appriseOuter").remove()}function chkAprsTimer(){return Date.now||(Date.now=function(){return(new Date).getTime()}),_g_aprs_ms+200>Date.now()?0:(_g_aprs_ms=Date.now(),1)}function resetAppriseTimer(){_g_aprs_ms=0}function appriseStopKeydown(){__apr_bkeyd=0}function appriseStartKeydown(){__apr_bkeyd=1}function appriseNoReturnKeyClosing(e,t,a){apprise(e,t,a,!1)}function apprise(e,t,a,i=!0){if(killApprise(),!chkAprsTimer())return!1;appriseStartKeydown();let n={confirm:!1,verify:!1,password:!1,input:!1,animate:!1,textOk:"Ok",textCancel:"Cancel",textYes:"Yes",textNo:"No",backgroundClose:!0,keyClose:!0,passHideText:"hide?"};t||(t=n);for(let e in n)void 0===t[e]&&(t[e]=n[e]);i&&(i=t.keyClose);let p=$(document).height();$(document).width();if($("body").append('<div class="appriseOverlay" id="aOverlay"></div>'),t.backgroundClose&&($(".appriseOverlay").off(),$(".appriseOverlay").on("click",(function(){$(".appriseOuter").fadeOut(400,(function(){killApprise()}))}))),$(".appriseOverlay").css("height",p).fadeIn(100),$("body").append('<div class="appriseOuter"><div class="appriseInner">'+e+'</div><div class="aButtons"></div></div>'),t.animate){let e=t.animate;isNaN(e)&&(e=400),$(".appriseOuter").css("top","-200px").show().animate({top:"40%"},e)}else $(".appriseOuter").fadeIn(200);let s="";t.input?("string"==typeof t.input&&(s=t.input),$(".appriseInner").append('<div class="aInput"><input type="text" class="aTextbox" t="aTextbox" value="'+s+'"></div>'),$(".aTextbox").trigger("focus")):t.password&&("string"==typeof t.password&&(s=t.password),$(".appriseInner").append('<div class="aInput" style="white-space:nowrap;"><input id="idApprise_pass" type="text" class="aTextbox" t="aTextbox" value="'+s+"\"><label style=\"margin-left:8px;font-size:13px;vertical-align:middle;\"><input type=\"checkbox\" onclick=\"if( $(this).is(':checked') ){$('#idApprise_pass').attr('type','password');} else {$('#idApprise_pass').attr('type','text');}\" style=\"vertical-align:middle;margin-right:3px\"><span style=\"vertical-align:middle;\">"+t.passHideText+"</span></label></div>"),$(".aTextbox").trigger("focus")),t.confirm||t.input||t.password?($(".aButtons").append('<button value="ok">'+t.textOk+"</button>"),$(".aButtons").append('<button value="cancel">'+t.textCancel+"</button>")):t.verify?($(".aButtons").append('<button value="ok">'+t.textYes+"</button>"),$(".aButtons").append('<button value="cancel">'+t.textNo+"</button>")):$(".aButtons").append('<button value="ok">'+t.textOk+"</button>"),$(document).off("keydown"),$(document).keydown((function(e){if(__apr_bkeyd&&$(".appriseOverlay").is(":visible")){if(13==e.keyCode&&!1!==i){if(!chkAprsTimer())return!1;$(":focus").trigger("blur"),$('.aButtons > button[value="ok"]').trigger("click")}27==e.keyCode&&$('.aButtons > button[value="cancel"]').trigger("click")}}));let r=$(".aTextbox").val();r||(r=!1),$(".aTextbox").off(),$(".aTextbox").on("keyup",(function(){r=$(this).val()})),$(".aButtons > button").on("click",(function(){if(!1!==i&&killApprise(),a){let e=$(this).attr("value");"ok"==e?t&&(t.input||t.password)?a(r):a(!0):"cancel"==e&&a(!1)}}))}